<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">

<dom-module id="blabla-dropdown">
	<template>
		<style include="shared-styles">
			:host {
				position: relative;
			}
			:host .dropdown-container {
				display: none;
				background: #fff;
				color: #333;
				box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
				border: 0;
				border-radius: 2px;
				position: absolute;
				right: 0;
				/*margin-top: 10px;*/
				width: 150px;
			}

			 :host(.is-visible) .dropdown-container {
				display: block;
			}

			 /*:host .dropdown-container::before {
				content: "";
				width: 0px;
				height: 0px;
				border-bottom: 8px solid #fff;
				box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
				border-top: 8px solid transparent;
				border-left: 8px solid transparent;
				border-right: 8px solid transparent;
				position: absolute;
				top: -16px;
				right: 16px;
			}*/
		</style>
		<slot name="toggle"></slot>
		<div class="dropdown-container">
			<slot name="dropdown"></slot>
		</div>
	</template>

	<script>
		/**
		 * `blabla-dropdown`
		 * The single note view of Blabla App
		 *
		 * @customElement
		 * @polymer
		 */
		class BlablaDropdown extends Polymer.Element {
			static get is() {
				return 'blabla-dropdown';
			}
			connectedCallback() {
				super.connectedCallback();
				var component = this;
				var togglebutton = this.querySelector('blabla-button');

				togglebutton.onclick = function () {
					component.classList.toggle('is-visible');
				}
			}
		}

		window.customElements.define(BlablaDropdown.is, BlablaDropdown);
	</script>
</dom-module>